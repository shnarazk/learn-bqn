#!/usr/bin/env bqn
example â† âŸ¨
    "abba[mnop]qrst"
    "abcd[bddb]xyyx"
    "aaaa[qwer]tyui"
    "ioxxoj[asdfgh]zxcvbn"
âŸ©
â€¢Show example
WithMask0 â† {
    masks â† 1 â†“ âŸ¨1âŸ© {
        '[' = ğ•¨ ? ğ•©âˆ¾0;
        ']' = ğ•¨ ? ğ•©âˆ¾1;
        ğ•©âˆ¾(Â¯1âŠ‘ğ•©)
    }Â´ âŒ½ ğ•©
    <Ë˜ â‰ masks â‰ ğ•©
}
Split â† { F letters:
    masks â† âŸ¨âŸ¨""âŸ©, 1âŸ© {
        '[' ğ•Š ğ•© : âŸ¨âŠ‘ğ•©, Â¯1Ã—(1âŠ‘ğ•©)âŸ©;
        ']' ğ•Š ğ•© : âŸ¨âŸ¨""âŸ©âˆ¾(âŠ‘ğ•©), 1+(Â¯1Ã—(1âŠ‘ğ•©))âŸ©;
        1âŠ‘ğ•© < 0 ? ğ•©;
        âŸ¨âŸ¨(ğ•¨âˆ¾âŠ‘âŠ‘ğ•©)âŸ©âˆ¾(1â†“âŠ‘ğ•©), 1âŠ‘ğ•©âŸ©
    }Â´ âŒ½ letters
    âŒ½Â¨âŒ½âŠ‘masks
}
â€¢Show Split (âŠ‘example)