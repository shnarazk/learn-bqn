#!/usr/bin/env bqn
example â† âŸ¨
    "abba[mnop]qrst"
    "abcd[bddb]xyyx"
    "aaaa[qwer]tyui"
    "ioxxoj[asdfgh]zxcvbn"
âŸ©
â€¢Show example
WithMask0 â† {
    masks â† 1 â†“ âŸ¨1âŸ© {
        '[' = ğ•¨ ? ğ•©âˆ¾0;
        ']' = ğ•¨ ? ğ•©âˆ¾1;
        ğ•©âˆ¾(Â¯1âŠ‘ğ•©)
    }Â´ âŒ½ ğ•©
    <Ë˜ â‰ masks â‰ ğ•©
}
Split â† { F letters:
    masks â† âŸ¨1, âŸ¨""âŸ©, âŸ¨âŸ©âŸ© {
        '[' ğ•Š ğ•© : âŸ¨Â¯1Ã—(âŠ‘ğ•©)    , 1âŠ‘ğ•©               , âŸ¨""âŸ©âˆ¾(2âŠ‘ğ•©)       âŸ©;
        ']' ğ•Š ğ•© : âŸ¨1+(Â¯1Ã—(âŠ‘ğ•©)), âŸ¨""âŸ©âˆ¾(1âŠ‘ğ•©)        , 2âŠ‘ğ•©              âŸ©;
        0 < âŠ‘ğ•© ?  âŸ¨âŠ‘ğ•©         , âŸ¨(ğ•¨âˆ¾âŠ‘1âŠ‘ğ•©)âŸ©âˆ¾(1â†“1âŠ‘ğ•©), 2âŠ‘ğ•©              âŸ©;
                  âŸ¨âŠ‘ğ•©         , 1âŠ‘ğ•©               , âŸ¨(ğ•¨âˆ¾âŠ‘2âŠ‘ğ•©)âŸ©âˆ¾(1â†“2âŠ‘ğ•©)âŸ©
    }Â´ âŒ½ letters
    (âŒ½Â¨1âŠ‘masks)â€¿(âŒ½Â¨2âŠ‘masks)
}
Check â† {
    CheckWord â† {
        (0âŠ‘ğ•© = 3âŠ‘ğ•©) âˆ§ (1âŠ‘ğ•© = 2âŠ‘ğ•©) âˆ§ (0âŠ‘ğ•© â‰  1âŠ‘ğ•©)  
    }
    CheckChunk â† {
        4 > â‰ ğ•© ? 0;
        0 < âŒˆÂ´CheckWordÂ¨ <Ë˜4â†•ğ•©
    }
    (0 < âŒˆÂ´CheckChunkÂ¨ 0âŠ‘ğ•©) âˆ§ (0 = âŒˆÂ´CheckChunkÂ¨ 1âŠ‘ğ•©)
}
â€¢Show SplitÂ¨ example
â€¢Show (Checkâˆ˜Split)Â¨ example
â€¢Show +Â´(Checkâˆ˜Split)Â¨ example
lines â† â¥Š â€¢FLines "../data/2016/input-day07.txt"
# lines â† 10â†‘ â¥Š â€¢FLines "../data/2016/input-day07.txt"
# â€¢Show lines
# â€¢Show (Checkâˆ˜Split)Â¨ lines
â€¢Show +Â´(Checkâˆ˜Split)Â¨ lines

