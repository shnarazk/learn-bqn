#!/usr/bin/env bqn
âŸ¨For, ParseInts, StartsWith, Switch, TokenizeâŸ© â† â€¢Import "../lib.bqn"
Decode â† {
    x â† ğ•©
    l â† Tokenize ğ•©
    Switch âŸ¨âŠ‘l
        "value" â‹„  { ğ•¤â‹„ 'v'â€¿(Tokenize x)}
        "bot"   â‹„  { ğ•¤â‹„ 'b'â€¿(Tokenize x)}
    âŸ©
}
# Part 1: #####################################
status â† âˆâ€¿Â¯âˆË™Â¨ â†•220
Dispatch â† {
 âŸ¨'v', lâŸ© F status:
    â€¢Show 1âŠ‘l
    index â† â€¢BQN 5âŠ‘l 
    val â† â€¢BQN 1âŠ‘l 
    min â† âŠ‘indexâŠ‘ status
    max â† âŠ‘indexâŠ‘ status
    valâ€¿valâŒ¾(indexâŠ¸âŠ‘) status
    ;
 instruction F status: status
}

example â† âŸ¨
    "value 5 goes to bot 2"
    "bot 2 gives low to bot 1 and high to bot 0"
    "value 3 goes to bot 1"
    "bot 1 gives low to output 1 and high to bot 0"
    "bot 0 gives low to output 2 and high to output 0"
    "value 2 goes to bot 2"
    âŸ©
â€¢Show â‰âŸœ(DecodeÂ¨) example
data â† â¥Š â€¢FLines "../data/2016/input-day10.txt"
â€¢Show â‰âŸœ(DecodeÂ¨) 2â†‘ data
â€¢Show status DispatchÂ´âŒ½ DecodeÂ¨ data
# â€¢Show +Â´'#'=Â¨ â¥Š EvalÂ´âŒ½ DecodeÂ¨ data

# Part 2: #####################################
