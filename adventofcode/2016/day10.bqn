#!/usr/bin/env bqn
âŸ¨For, ParseInts, StartsWith, Switch, TokenizeâŸ© â† â€¢Import "../lib.bqn"
Decode â† {
    x â† ğ•©
    l â† Tokenize ğ•©
    Switch âŸ¨âŠ‘l
        "value" â‹„  { ğ•¤â‹„ 'v'â€¿(Tokenize x)}
        "bot"   â‹„  { ğ•¤â‹„ 'b'â€¿(Tokenize x)}
    âŸ©
}
# Part 1: #####################################
network â† Â¯âˆâ€¿Â¯âˆË™Â¨ â†•220
Link â† {
    âŸ¨'b', lâŸ© F n: {
        min â† â€¢BQN 6âŠ‘l
        max â† â€¢BQN 11âŠ‘l
        { ( 5âŠ‘l) StartsWith "out" ? min â†© Â¯1Ã—1+min;@ }
        { (10âŠ‘l) StartsWith "out" ? max â†© Â¯1Ã—1+max;@ }
        minâ€¿maxâŒ¾((â€¢BQN 1âŠ‘l)âŠ¸âŠ‘) n
    };
    i F x: x
}
example â† âŸ¨
    "value 5 goes to bot 2"
    "bot 2 gives low to bot 1 and high to bot 0"
    "value 3 goes to bot 1"
    "bot 1 gives low to output 1 and high to bot 0"
    "bot 0 gives low to output 2 and high to output 0"
    "value 2 goes to bot 2"
    âŸ©
â€¢Show â‰âŸœ(DecodeÂ¨) example
data â† â¥Š â€¢FLines "../data/2016/input-day10.txt"
â€¢Show â‰âŸœ(DecodeÂ¨) 2â†‘ data
insts â† âŒ½ DecodeÂ¨ data
â€¢Show network LinkÂ´ insts
# â€¢Show +Â´'#'=Â¨ â¥Š EvalÂ´âŒ½ DecodeÂ¨ data

# Part 2: #####################################
