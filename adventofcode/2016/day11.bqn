#!/usr/bin/env cbqn
# âŸ¨ToIndex, num_elements, example_start, stateâŸ© â‡
âŸ¨For, ParseInts, StartsWithâŸ© â† â€¢Import "../lib.bqn"
numKind â† 2
state â† âˆ˜â€¿2 â¥Š â†•4â‹†(2Ã—numKind)
start â† 0
ToIndex â† (+âŸœ(4âŠ¸Ã—))Â´âŒ½
ToState â† {
    (Â¯2Ã—numKind)â†‘ {
        F 0: âŸ¨0âŸ©;
        F n: {(F (n-ğ•©)Ã·4)âˆ¾ğ•©} 4|n
    } ğ•©
}
AtFloor â† { floor F state: (Â¯1+floor)âŠ¸=Â¨ state }
NextState â† { now F movings: 0 }        # TODO
Connected â† { floor F kind: 0 }         # TODO
IsSafe    â† { floor F kind: 0 }         # TODO
# Part 1 Description: #####################################
# - 0: a hydrogen M, a lithium M.
# - 1: a hydrogen G.
# - 2: a lithium G.
# - 3: nothing relevant.
# Encode: hydrogen, lithium
# naive coding:
#     0â€¿0â€¿0â€¿0â€¿0
#     0â€¿0â€¿0â€¿1â€¿0
#     0â€¿1â€¿0â€¿0â€¿0
#     1â€¿0â€¿1â€¿0â€¿1
# costâ€¿flagâ€¿status for Dijkstra: 0â€¿1â€¿0â€¿1â€¿0â€¿2â€¿0
# For Dijkstra: flagâ€¿cost[0Ã—256+1Ã—64+0Ã—16+2Ã—4+0Ã—1=72] = 1â€¿0
# Without elevator: flagâ€¿cost[1Ã—64+0Ã—16+2Ã—4+0Ã—1=72] = 1â€¿0
numKind â†© 2
state â†© âˆ˜â€¿2 â¥Š â†•4â‹†(2Ã—numKind)
start â†© ToIndex âŸ¨1, 0, 2, 0âŸ©
â€¢Show { (ToState ğ•©)â€¿ğ•©â€¿(ToIndex ToState ğ•©) } start
"Fail to build the 1-arrow" ! (ToStateâˆ˜ToIndex)âŠ¸(âˆ§Â´=) âŸ¨1, 0, 2, 0âŸ©
â€¢Show (3âŠ¸AtFloor)âŠ¸â‰ ToState 600
# Part 1: #####################################
# - 0: a strontium G, a strontium M, a plutonium G, a plutonium M.
# - 1: a thulium G, a ruthenium G, a ruthenium M, a curium G, a curium M.
# - 2: a thulium M.
# - 3: nothing relevant.
# Encode: strontium, plutonium, thulium, ruthenium, curium
numKind â†© 5
state â†© âˆ˜â€¿2 â¥Š â†•4â‹†(2Ã—numKind)
start â†© ToIndex âŸ¨0, 0, 0, 0, 1, 2, 1, 1, 1, 1âŸ©
# Part 2: #####################################
