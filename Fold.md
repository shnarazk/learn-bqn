
##

初期値ありのfoldがなんかおかしい。
atomがならんだリストならいいのだがそうでないと以下のようにエラーになる。

```apl
    c ← ⟨⟨1, 10⟩, ⟨-2, 20⟩, ⟨20, 30⟩⟩
⟨ ⟨ 1 10 ⟩ ⟨ ¯2 20 ⟩ ⟨ 20 30 ⟩ ⟩
    ⟨0, -999⟩ {⟨1+⊑𝕨, 1⊑𝕩⟩}` c

Error: `: rank of 𝕨 must be cell rank of 𝕩

⟨0, -999⟩ {⟨1+⊑𝕨, 1⊑𝕩⟩}` c
          ^^^^^^^^^^^^^^          
```

## 解決法

ではどうすればいいのかというと、配列にするのであった。

```apl
    b ← ∘‿1 ⥊ c
┌─           
╵ ⟨ 1 10 ⟩   
  ⟨ ¯2 20 ⟩  
  ⟨ 20 30 ⟩  
            ┘
    ⥊⟨⟨0, -999⟩⟩ {⟨1+⊑𝕨, 1⊑𝕩⟩}` b
⟨ ⟨ 1 10 ⟩ ⟨ 2 20 ⟩ ⟨ 3 30 ⟩
```

リストのリストがうまくいかないのは、きっと2次元配列はリストのリストではないというのと同じことから来ているのだろう。

https://github.com/mlochbaum/BQN/blob/31b722e16e6a0f6b0f08e8409b2c7e240937bfed/doc/scan.md#higher-ranks

しかし、初期値がなければリストのリストで動くのだからこの説明は説得力ないなあ。
しばらく温めてまたissue立てようかな。

```apl
    {⟨1+⊑𝕨, 1⊑𝕩⟩}` c
⟨ ⟨ 1 10 ⟩ ⟨ 2 20 ⟩ ⟨ 3 30 ⟩ ⟩
```
